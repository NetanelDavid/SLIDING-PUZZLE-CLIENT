{"version":3,"sources":["./src/app/server.service.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServerService {\n\n  constructor(private client: HttpClient) { }\n\n  getNewArray(size: number): Observable<{ arr: number[][] }> {\n    return this.client.get<{ arr: number[][] }>(environment.baseUrl + 'new/' + size);\n  }\n\n  getSolution(arr: number[][]): Observable<{path: number[]}> {\n    \n    return this.client.post<{ path: number[] }>(environment.baseUrl + 'solution', { arr });\n  }\n\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  baseUrl: 'https://dliding-puzzle-server.herokuapp.com/'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component } from '@angular/core';\r\nimport { ServerService } from './server.service';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n\r\n  title = 'sliding-puzzle';\r\n\r\n  arr: number[][] = [];\r\n  n: number = 3;\r\n  offset: number[];\r\n  index0: number;\r\n  length: number;\r\n  timer: any;\r\n  isActive: boolean = false;\r\n  speed: number = -1;\r\n  spinner = false;\r\n\r\n  constructor(private serevr: ServerService) {\r\n    this.constArr();\r\n  }\r\n\r\n  constArr(n?: number) {\r\n\r\n    if (this.isActive) {\r\n      this.stop();\r\n    }\r\n\r\n    let arrLocal = localStorage.getItem('arr');\r\n\r\n    if (arrLocal && !n) {\r\n\r\n      this.arr = JSON.parse(arrLocal);\r\n      this.constVariables();\r\n\r\n    } else {\r\n\r\n      this.spinner = true;\r\n      this.serevr.getNewArray(this.n).subscribe(res => {\r\n        this.arr = res.arr;\r\n        this.constVariables();\r\n        localStorage.setItem('arr', JSON.stringify(this.arr));\r\n        this.spinner = false;\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  constVariables() {\r\n    this.n = this.arr.length;\r\n    this.length = Math.pow(this.n, 2);\r\n    this.offset = [-this.n, this.n, -1, 1];\r\n    this.index0 = this.search0();\r\n  }\r\n\r\n  search0(): number {\r\n    for (let i = 0; i < this.length; i++) {\r\n      if (!this.getValue(i)) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n\r\n  replase(index: number) {\r\n\r\n    this.setValue(this.index0, this.getValue(index));\r\n    this.setValue(index, 0);\r\n\r\n    this.index0 = index;\r\n  }\r\n\r\n  click(index: number) {\r\n    if (this.getOptions().includes(index)) {\r\n      this.replase(index);\r\n      localStorage.setItem('arr', JSON.stringify(this.arr));\r\n    }\r\n  }\r\n\r\n  getOptions(): number[] {\r\n\r\n    let indexex0 = this.getAxises(this.index0);\r\n    let indexesI: number[];\r\n\r\n    return this.offset.map(i => i + this.index0)\r\n      .filter(\r\n        i =>\r\n          i >= 0\r\n          && i < this.length\r\n          && ((indexesI = this.getAxises(i))[0] == indexex0[0] || indexesI[1] == indexex0[1])\r\n      );\r\n  }\r\n\r\n  getValue(index: number): number {\r\n    return this.arr[Math.floor(index / this.n)][index % this.n];\r\n  }\r\n\r\n  setValue(index: number, value: number): void {\r\n    this.arr[Math.floor(index / this.n)][index % this.n] = value;\r\n  }\r\n\r\n  getAxises(index: number): number[] {\r\n    return [Math.floor(index / this.n), index % this.n];\r\n  }\r\n\r\n  stop(): void {\r\n    this.isActive = false;\r\n    clearInterval(this.timer)\r\n    localStorage.setItem(\"arr\", JSON.stringify(this.arr))\r\n  }\r\n\r\n  solvedAndStop() {\r\n\r\n    if (this.isActive) {\r\n      this.stop();\r\n    } else {\r\n      this.solved()\r\n    }\r\n  }\r\n\r\n  solved(): void {\r\n    this.spinner = true;\r\n    this.serevr.getSolution(this.arr).pipe(finalize(() => this.spinner = false)).subscribe(\r\n      res => {\r\n        let i = 0;\r\n        this.isActive = true;\r\n        console.log(res.path.length);\r\n\r\n        this.timer = setInterval(() => {\r\n\r\n          if (i < res.path.length) {\r\n            this.replase(res.path[i++]);\r\n          } else {\r\n            this.stop();\r\n          }\r\n        }, Math.abs(this.speed) * 250);\r\n\r\n      }, () => {\r\n        this.stop();\r\n        setTimeout(() => {\r\n          alert(\"Insoluble board!\");\r\n        }, 15)\r\n      }\r\n    )\r\n  }\r\n\r\n}","<div class=\"row\">\n\n  <div class=\"col-5 ps-5 my-3\">\n    <input [(ngModel)]=\"n\" type=\"number\" min=\"3\" max=\"40\" class=\"width text-center\">\n    <select class=\"form-select mt-3 width\" [(ngModel)]=\"speed\">\n\n      <option *ngFor=\"let item of ['choose a solution speed','faster','medium','slowly'], index as i\" [value]=\"i-1\">\n        {{item}}\n      </option>\n\n    </select>\n    <div class=\"btn-group width my-3\">\n      <button (click)=\"constArr(n)\" class=\"btn btn-primary col-6\">\n        {{ arr.length == n ? 'mix' : 'update' }}\n      </button>\n      <button (click)=\"solvedAndStop()\" class=\"btn col-6\" [ngClass]=\"isActive? 'btn-danger' : 'btn-success' \">\n        {{isActive?'stop' :'solve'}}\n      </button>\n    </div>\n  </div>\n  <div class=\"col-2 d-flex justify-content-center pt-4\" >\n    <mat-progress-spinner mode=\"indeterminate\" color=\"accent\" [diameter]=\"100\" *ngIf=\"spinner\">\n    </mat-progress-spinner>\n  </div>\n\n</div>\n\n<div class=\"row justify-content-center mx-0\">\n  <div class=\"game-board\">\n\n    <table class=\"table table-bordered\">\n      <tbody>\n\n        <tr *ngFor='let ar of arr; index as i'>\n          <td (click)=\"click(i * n + j)\" *ngFor='let num of ar; index as j' class=\"align-middle text-center cell \"\n            [ngClass]=\" num ? '' : 'zero'\">\n            {{num || ''}}\n          </td>\n        </tr>\n\n      </tbody>\n    </table>\n\n\n  </div>\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    MatProgressSpinnerModule,\n    HttpClientModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}